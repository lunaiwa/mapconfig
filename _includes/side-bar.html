<script src="uri.js"></script>

<div class="container">
<nav class="sidebar locked">
    <div class="logo_items flex">
      <span class="nav_image">
        <img src="images/RIFTlogo.png" class="logo">
      </span>
      <span class="logo_name">Rift</span>
      <i class="bx bx-x" id="sidebar-close"></i>
    </div>
    <div class="menu_container">
      <div class="menu_items">
        <ul class="menu_item">
          <div class="sidebar_profile flex">
            <span class="title"><b>Dashboard</b></span>
            <span class="line"></span>
          </div>
          <li class="item">
            <a href="menu" class="link flex">
              <i class="bx bxs-joystick-alt"></i>
              <span>Rift Game</span>
            </a>
          </li>
          <li class="item">
            <a href="character" class="link flex">
              <i class='bx bx-user-circle'></i>
              <span>Character</span>
            </a>
          </li>
          <li class="item">
            <a href="dashboard" class="link flex">
              <i class="bx bx-home-alt"></i>
              <span>Dashboard</span>
            </a>
          </li>
          <li class="item">
            <a href="leaderboard" class="link flex">
              <i class="bx bx-list-ol"></i>
              <span>Leaderboard</span>
            </a>
          </li> 
          <li class="item">
            <a href="bot" class="link flex">
              <i class='bx bx-user-circle'></i>
              <span>Helpful ai assistant</span>
            </a>
          </li>
          <!-- <li class="item">
            <a href="#" class="link flex">
              <i class="bx bx-bell"></i>
              <span>Notifications</span>
            </a>
          </li> -->
        </ul>
        <ul class="menu_item">
          <div class="sidebar_profile flex">
            <span class="title"><b>Settings</b></span>
            <span class="line"></span>
          </div>
          <!-- <li class="item">
            <a href="#" class="link flex">
              <i class="bx bx-flag"></i>
              <span>Blog</span>
            </a>
          </li> -->
          <li class="item">
            <a href="profile" class="link flex">
              <i class="bx bx-user"></i>
              <span>Profile</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="link flex">
              <i class="bx bx-cog"></i>
              <span>Settings</span>
            </a>
          </li>
          <li class="item">
            <a onclick="signout()" class="link flex">
              <i class="bx bx-log-out"></i>
              <span>Log out</span>
            </a>
          </li>
        </ul>
      </div>
      <div class="sidebar_profile flex">
        <div class="data_text">
          <span class="name" id="sidebarName"></span>
        </div>
      </div>
    </div>
  </nav>
</div>

<style>
  .item {
    cursor: pointer;
  }
</style>

<script>
  function signout() {
    var requestOptions = {
      method: 'POST',
      redirect: 'follow',
      credentials: 'include'
    };

    // LOCAL TESTING
    fetch(uri + "/signout", requestOptions)
      .then(response => response.text())
      .then(result => {
            console.log(result);
            window.location.href = "login";
        })
      .catch(error => console.log('error', error));
  }
</script>